# 함수를 명령으로 바꾸기(Replace Function with Command)

- 함수를 그 함수만을 위한 객체 안으로 캡슐화하면 더 유용해지는 상황이 있다. 이런 객체를 가리켜 **명령 객체** 또는 단순히 **명령(command)** 이라 한다.
- 명령 객체 대부분은 메서드 하나로 구성되며, 이 메서드를 요청해 실행하는 것이 이 객체의 목적이다.
- 명령은 평범한 함수 메커니즘보다 훨씬 유연하게 함수를 제어하고 표현할 수 있다. 명령은 Undo 같은 보조 연산을 제공할 수 있으며, 수명주기를 더 정밀하게 제어하는 데 필요한 매개변수를 만들어주는 메서드도 제공할 수 있다. 상속과 훅(hook)을 이용해 사용자 맞춤형으로 만들 수도 있다.
- 일급 함수(first-class function)를 지원하지 않는 프로그래밍 언어를 사용할 때는 명령을 이용해 일급 함수의 기능 대부분을 흉내 낼 수 있다. 일급 함수를 지원하는 프로그래밍 언어를 사용한다면 명령보다 일급 함수를 사용하는 것이 복잡성을 줄여주기 때문에 거의 대부분 더 낫다.
- Note. 소프트웨어 개발 용어 중에는 여러 가지 의미로 사용되는 게 많은데 '명령'도 마찬가지다. 지금 맥락에서의 명령은 요청을 캡슐화한 객체로, 디자인 패턴 중 명령 패턴(Command Panttern)에서 말하는 명령과 같다. 이 책에서 이 의미의 명령을 이야기할 때는 먼저 '명령 객체'라고 한번 언급한 후 '명령'으로 줄여 쓸 것이다. 한편 명령-질의 분리 원칙(command-query separation principle, https://martinfowler.com/bliki/CommandQuerySeparation.html) 에서도 명령이 등장한다. 이 원칙에서의 명령은 객체의 겉보기 상태를 변경하는 메서드를 가리킨다. 이 책에서는 이 의미의 명령을 이야기할 때는 명령이란 단어를 쓰지 않으려 노력할 것이다. 대신 '변경 함수(modifier 혹은 mutator)'라 하겠다.
