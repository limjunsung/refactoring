# 매개변수를 질의 함수로 바꾸기(Replace Parameter with Query)

- 매개변수는 함수에 동작에 변화를 줄 수 있는 수단이다.
- 다른 코드와 마찬가지로 매개변수 목록에서도 중복은 피하는 게 좋으며 짧을수록 이해하기 쉽다.
- 해당 매개변수를 제거하면 결정하는 책임 주체가 달라진다. 매개변수가 있다면 결제 주체가 함수 호출자가 되고, 매개변수가 없다면 피호출 함수가 된다. 나는 습관적으로 호출하는 쪽을 간소하게 만든다. 즉, 책임 소재를 피호출 함수로 옮긴다는 뜻인데, 물론 피호출 함수가 그 역할을 수행하기에 적합할 때만 그렇게 한다.
- 매개변수를 질의 함수로 바꾸지 말아야 할 상황도 있다. 가장 흔한 예는 매개변수를 제거하면 피호출 함수에 원치 않는 의존성이 생길 때다.
- 제거하려는 매개변수의 값을 다른 매개변수에 질의해서 얻을 수 있다면 안심하고 질의 함수로 바꿀 수 있다. 다른 매개변수에서 얻을 수 있는 값을 별도 매개변수로 전달하는 것은 아무 의미가 없다.
- 매개변수를 없애는 대신 가변 전역 변수를 사용해서는 안된다. 왜냐하면 그렇게 되면 대상 함수가 참조 투명(referential transparency)하지 않게 되기 때문이다. 참조 투명이란 '함수에 똑같은 값을 건네 호출하면 항상 똑같이 동작한다'는 뜻이다. 이런 함수는 동작을 예측하고 테스트하기가 쉽다.
